<!DOCTYPE openRPTDef>
<report>
 <title>Standard Bill of Lading</title>
 <name>StandardBOL</name>
 <description></description>
 <size>Letter</size>
 <portrait/>
 <topmargin>50</topmargin>
 <bottommargin>50</bottommargin>
 <rightmargin>0</rightmargin>
 <leftmargin>0</leftmargin>
 <querysource>
  <name>head</name>
  <sql>SELECT cosmisc_shipvia, formatDate(cosmisc_shipdate) AS shipdate,
                cust_name, cust_number, cohead_number, cohead_fob, cohead_custponumber,
                warehous_descrip, warehous_addr1, warehous_addr2, warehous_addr3, warehous_addr4, warehous_fob,
                cohead_shiptoname, cohead_shiptoaddress1, cohead_shiptoaddress2, cohead_shiptoaddress3,
                (cohead_shiptocity || ' ' || cohead_shiptostate || ' ' || cohead_shiptozipcode) AS shiptocitystatezip,
                cohead_shiptophone
         FROM cosmisc, cohead, warehous, cust
         WHERE ((cosmisc_cohead_id=cohead_id)
          AND (cohead_cust_id=cust_id)
          AND (cohead_warehous_id=warehous_id)
          AND (cosmisc_id=%1));</sql>
 </querysource>
 <querysource>
  <name>detail</name>
  <sql>SELECT coitem_linenumber, formatQty(SUM(coship_qty)) AS invqty, uom_name, roundUp(SUM(coship_qty) / itemuomratiobytype(item_id, 'Selling'))::integer AS shipqty,
                itemsellinguom(item_id) AS shipuom, item_number, item_descrip1, item_descrip2,
                formatQty(SUM(coship_qty) * item_prodweight) AS netweight,
                formatQty(SUM(coship_qty) * (item_prodweight + item_packweight)) AS grossweight
         FROM coship, coitem, itemsite, item, uom
         WHERE ((coship_coitem_id=coitem_id)
          AND (coitem_itemsite_id=itemsite_id)
          AND (itemsite_item_id=item_id)
          AND (item_inv_uom_id=uom_id)
          AND (coship_cosmisc_id=%1))
         GROUP BY coitem_linenumber, item_number, uom_name, shipuom,
                  item_descrip1, item_descrip2, item_prodweight, item_packweight
         ORDER BY coitem_linenumber;
    </sql>
 </querysource>
 <querysource>
  <name>foot</name>
  <sql>SELECT formatQty(SUM(coship_qty * item_prodweight)) AS netweight,
                formatQty(SUM(coship_qty * (item_prodweight + item_packweight))) AS grossweight,
                CASE
                 WHEN ('%3' = 'C') THEN 'X'
                 ELSE ' '
                END AS collectflag,
                CASE
                 WHEN ('%3' = 'C') THEN 'Therm-O-Rock East, Inc.'
                 ELSE ' '
                END AS section7,
                CASE
                 WHEN ('%3' = 'C') THEN 'Therm-O-Rock, East, Inc.'
                 ELSE ' '
                END AS collect_name,
                CASE
                 WHEN ('%3' = 'C') THEN 'Pine Street'
                 ELSE ' '
                END AS collect_address1,
                CASE
                 WHEN ('%3' = 'C') THEN ''
                 ELSE ' '
                END AS collect_address2,
                CASE
                 WHEN ('%3' = 'C') THEN 'New Eagle  PA  15067'
                 ELSE ' '
                END AS collect_address3
         FROM coship, coitem, itemsite, item
         WHERE ((coship_coitem_id=coitem_id)
          AND (coitem_itemsite_id=itemsite_id)
          AND (itemsite_item_id=item_id)
          AND (coship_cosmisc_id=%1));</sql>
 </querysource>
 <querysource>
  <name>notes</name>
  <sql>SELECT cosmisc_notes
         FROM cosmisc
         WHERE (cosmisc_id=%1);</sql>
 </querysource>
 <pghead>
  <firstpage/>
  <height>242</height>
  <field>
   <rect>
    <x>95</x>
    <y>125</y>
    <width>200</width>
    <height>20</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>10</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <data>
    <query>head</query>
    <column>warehous_addr2</column>
   </data>
  </field>
  <field>
   <rect>
    <x>600</x>
    <y>5</y>
    <width>100</width>
    <height>20</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>10</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <data>
    <query>head</query>
    <column>shipdate</column>
   </data>
  </field>
  <field>
   <rect>
    <x>530</x>
    <y>165</y>
    <width>300</width>
    <height>20</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>10</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <data>
    <query>head</query>
    <column>shiptocitystatezip</column>
   </data>
  </field>
  <field>
   <rect>
    <x>95</x>
    <y>165</y>
    <width>200</width>
    <height>20</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>10</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <data>
    <query>head</query>
    <column>warehous_addr4</column>
   </data>
  </field>
  <field>
   <rect>
    <x>530</x>
    <y>145</y>
    <width>200</width>
    <height>20</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>10</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <data>
    <query>head</query>
    <column>cohead_shiptoaddress3</column>
   </data>
  </field>
  <field>
   <rect>
    <x>530</x>
    <y>125</y>
    <width>200</width>
    <height>20</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>10</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <data>
    <query>head</query>
    <column>cohead_shiptoaddress2</column>
   </data>
  </field>
  <field>
   <rect>
    <x>95</x>
    <y>145</y>
    <width>200</width>
    <height>20</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>10</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <data>
    <query>head</query>
    <column>warehous_addr3</column>
   </data>
  </field>
  <field>
   <rect>
    <x>95</x>
    <y>85</y>
    <width>200</width>
    <height>20</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>10</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <data>
    <query>head</query>
    <column>warehous_descrip</column>
   </data>
  </field>
  <field>
   <rect>
    <x>530</x>
    <y>85</y>
    <width>200</width>
    <height>20</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>10</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <data>
    <query>head</query>
    <column>cohead_shiptoname</column>
   </data>
  </field>
  <field>
   <rect>
    <x>530</x>
    <y>105</y>
    <width>200</width>
    <height>20</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>10</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <data>
    <query>head</query>
    <column>cohead_shiptoaddress1</column>
   </data>
  </field>
  <field>
   <rect>
    <x>115</x>
    <y>35</y>
    <width>200</width>
    <height>20</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>10</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <data>
    <query>head</query>
    <column>cosmisc_shipvia</column>
   </data>
  </field>
  <field>
   <rect>
    <x>95</x>
    <y>105</y>
    <width>200</width>
    <height>20</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>10</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <data>
    <query>head</query>
    <column>warehous_addr1</column>
   </data>
  </field>
  <field>
   <rect>
    <x>530</x>
    <y>185</y>
    <width>300</width>
    <height>20</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>10</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <data>
    <query>head</query>
    <column>cohead_shiptophone</column>
   </data>
  </field>
 </pghead>
 <section>
  <name>detail</name>
  <detail>
   <key>
    <query>detail</query>
   </key>
   <height>57</height>
   <field>
    <rect>
     <x>200</x>
     <y>40</y>
     <width>300</width>
     <height>14</height>
    </rect>
    <font>
     <face>Arial</face>
     <size>8</size>
     <weight>normal</weight>
    </font>
    <left/>
    <vcenter/>
    <data>
     <query>detail</query>
     <column>item_descrip2</column>
    </data>
   </field>
   <field>
    <rect>
     <x>95</x>
     <y>30</y>
     <width>80</width>
     <height>20</height>
    </rect>
    <font>
     <face>Arial</face>
     <size>10</size>
     <weight>normal</weight>
    </font>
    <left/>
    <vcenter/>
    <data>
     <query>detail</query>
     <column>uom_name</column>
    </data>
   </field>
   <field>
    <rect>
     <x>10</x>
     <y>30</y>
     <width>80</width>
     <height>20</height>
    </rect>
    <font>
     <face>Arial</face>
     <size>10</size>
     <weight>normal</weight>
    </font>
    <right/>
    <vcenter/>
    <data>
     <query>detail</query>
     <column>invqty</column>
    </data>
   </field>
   <field>
    <rect>
     <x>200</x>
     <y>5</y>
     <width>300</width>
     <height>20</height>
    </rect>
    <font>
     <face>Arial</face>
     <size>10</size>
     <weight>normal</weight>
    </font>
    <left/>
    <vcenter/>
    <data>
     <query>detail</query>
     <column>item_number</column>
    </data>
   </field>
   <field>
    <rect>
     <x>520</x>
     <y>5</y>
     <width>100</width>
     <height>20</height>
    </rect>
    <font>
     <face>Arial</face>
     <size>10</size>
     <weight>normal</weight>
    </font>
    <right/>
    <vcenter/>
    <data>
     <query>detail</query>
     <column>netweight</column>
    </data>
   </field>
   <field>
    <rect>
     <x>10</x>
     <y>5</y>
     <width>80</width>
     <height>20</height>
    </rect>
    <font>
     <face>Arial</face>
     <size>10</size>
     <weight>normal</weight>
    </font>
    <right/>
    <vcenter/>
    <data>
     <query>detail</query>
     <column>shipqty</column>
    </data>
   </field>
   <field>
    <rect>
     <x>520</x>
     <y>25</y>
     <width>100</width>
     <height>20</height>
    </rect>
    <font>
     <face>Arial</face>
     <size>10</size>
     <weight>normal</weight>
    </font>
    <right/>
    <vcenter/>
    <data>
     <query>detail</query>
     <column>grossweight</column>
    </data>
   </field>
   <field>
    <rect>
     <x>94</x>
     <y>5</y>
     <width>80</width>
     <height>20</height>
    </rect>
    <font>
     <face>Arial</face>
     <size>10</size>
     <weight>normal</weight>
    </font>
    <left/>
    <vcenter/>
    <data>
     <query>detail</query>
     <column>shipuom</column>
    </data>
   </field>
   <field>
    <rect>
     <x>200</x>
     <y>25</y>
     <width>300</width>
     <height>14</height>
    </rect>
    <font>
     <face>Arial</face>
     <size>8</size>
     <weight>normal</weight>
    </font>
    <left/>
    <vcenter/>
    <data>
     <query>detail</query>
     <column>item_descrip1</column>
    </data>
   </field>
  </detail>
 </section>
 <pgfoot>
  <lastpage/>
  <height>287</height>
  <field>
   <rect>
    <x>230</x>
    <y>180</y>
    <width>200</width>
    <height>20</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>10</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <data>
    <query>foot</query>
    <column>collect_address2</column>
   </data>
  </field>
  <field>
   <rect>
    <x>438</x>
    <y>261</y>
    <width>200</width>
    <height>20</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>10</size>
    <weight>normal</weight>
   </font>
   <hcenter/>
   <vcenter/>
   <data>
    <query>foot</query>
    <column>section7</column>
   </data>
  </field>
  <label>
   <rect>
    <x>500</x>
    <y>80</y>
    <width>110</width>
    <height>20</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>10</size>
    <weight>normal</weight>
   </font>
   <right/>
   <vcenter/>
   <string>Customer #:</string>
  </label>
  <field>
   <rect>
    <x>520</x>
    <y>5</y>
    <width>100</width>
    <height>20</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>10</size>
    <weight>normal</weight>
   </font>
   <right/>
   <vcenter/>
   <data>
    <query>foot</query>
    <column>netweight</column>
   </data>
  </field>
  <field>
   <rect>
    <x>614</x>
    <y>60</y>
    <width>200</width>
    <height>20</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>10</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <data>
    <query>head</query>
    <column>cohead_fob</column>
   </data>
  </field>
  <field>
   <rect>
    <x>20</x>
    <y>180</y>
    <width>200</width>
    <height>20</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>10</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <data>
    <query>foot</query>
    <column>collect_name</column>
   </data>
  </field>
  <label>
   <rect>
    <x>500</x>
    <y>100</y>
    <width>110</width>
    <height>20</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>10</size>
    <weight>normal</weight>
   </font>
   <right/>
   <vcenter/>
   <string>Order #:</string>
  </label>
  <field>
   <rect>
    <x>520</x>
    <y>25</y>
    <width>100</width>
    <height>20</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>10</size>
    <weight>normal</weight>
   </font>
   <right/>
   <vcenter/>
   <data>
    <query>foot</query>
    <column>grossweight</column>
   </data>
  </field>
  <label>
   <rect>
    <x>500</x>
    <y>60</y>
    <width>110</width>
    <height>20</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>10</size>
    <weight>normal</weight>
   </font>
   <right/>
   <vcenter/>
   <string>Shipped From:</string>
  </label>
  <field>
   <rect>
    <x>230</x>
    <y>200</y>
    <width>200</width>
    <height>20</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>10</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <data>
    <query>foot</query>
    <column>collect_address3</column>
   </data>
  </field>
  <field>
   <rect>
    <x>728</x>
    <y>261</y>
    <width>46</width>
    <height>20</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>10</size>
    <weight>normal</weight>
   </font>
   <hcenter/>
   <vcenter/>
   <data>
    <query>foot</query>
    <column>collectflag</column>
   </data>
  </field>
  <field>
   <rect>
    <x>614</x>
    <y>100</y>
    <width>100</width>
    <height>20</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>10</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <data>
    <query>head</query>
    <column>cohead_number</column>
   </data>
  </field>
  <field>
   <rect>
    <x>614</x>
    <y>120</y>
    <width>100</width>
    <height>20</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>10</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <data>
    <query>head</query>
    <column>cohead_custponumber</column>
   </data>
  </field>
  <field>
   <rect>
    <x>614</x>
    <y>80</y>
    <width>200</width>
    <height>20</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>10</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <data>
    <query>head</query>
    <column>cust_number</column>
   </data>
  </field>
  <label>
   <rect>
    <x>480</x>
    <y>120</y>
    <width>130</width>
    <height>20</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>10</size>
    <weight>normal</weight>
   </font>
   <right/>
   <vcenter/>
   <string>Customer P/O #:</string>
  </label>
  <field>
   <rect>
    <x>20</x>
    <y>200</y>
    <width>200</width>
    <height>20</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>10</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <data>
    <query>foot</query>
    <column>collect_address1</column>
   </data>
  </field>
  <field>
   <rect>
    <x>50</x>
    <y>10</y>
    <width>400</width>
    <height>100</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>10</size>
    <weight>normal</weight>
   </font>
   <left/>
   <top/>
   <data>
    <query>notes</query>
    <column>cosmisc_notes</column>
   </data>
  </field>
 </pgfoot>
</report>
